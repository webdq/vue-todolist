webpackJsonp([1],{EEnH:function(t,e){},NHnr:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i("7+uW"),n={name:"TodoHeader",data:function(){return{val:""}},methods:{addTodo:function(){""!==this.val.trim()&&(this.$store.commit("addTodoMuta",{id:Date.now()+""+Math.random(),title:this.val,checked:!1}),this.val="")}}},s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("header",{staticClass:"header"},[i("h1",[t._v("todos")]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.val,expression:"val"}],staticClass:"new-todo",attrs:{placeholder:"请输入内容"},domProps:{value:t.val},on:{keyup:function(e){return"button"in e||13===e.keyCode?t.addTodo(e):null},input:function(e){e.target.composing||(t.val=e.target.value)}}})])},staticRenderFns:[]};var a=i("VU/8")(n,s,!1,function(t){i("mo6r")},"data-v-5098e2d7",null).exports,c={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{staticClass:"todo-list"},t._l(t.list,function(e){return i("li",{key:e.id,class:{completed:e.checked,editing:t.editId===e.id}},[i("div",{staticClass:"view"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.checked,expression:"item.checked"}],staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.checked)?t._i(e.checked,null)>-1:e.checked},on:{change:function(i){var o=e.checked,n=i.target,s=!!n.checked;if(Array.isArray(o)){var a=t._i(o,null);n.checked?a<0&&t.$set(e,"checked",o.concat([null])):a>-1&&t.$set(e,"checked",o.slice(0,a).concat(o.slice(a+1)))}else t.$set(e,"checked",s)}}}),t._v(" "),i("label",{on:{dblclick:function(i){t.editTodo(e)}}},[t._v(t._s(e.title))]),t._v(" "),i("button",{staticClass:"destroy",on:{click:function(i){t.removeTodo(e)}}})]),t._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:t.title,expression:"title"}],ref:e.id,refInFor:!0,staticClass:"edit",domProps:{value:t.title},on:{keyup:[function(i){if(!("button"in i)&&13!==i.keyCode)return null;t.editDone(e)},function(i){if(!("button"in i)&&t._k(i.keyCode,"esc",27,i.key,"Escape"))return null;t.editCancel(e)}],blur:function(i){t.editDone(e)},input:function(e){e.target.composing||(t.title=e.target.value)}}})])}))},staticRenderFns:[]};var r={name:"TodoContent",computed:{isCheckedAll:{get:function(){return!!this.$store.state.list.length&&this.$store.state.list.every(function(t){return t.checked})},set:function(t){this.$store.commit("setCheckedAll",{checked:t})}},isShow:function(){return!!this.$store.state.list.length}},components:{TodoList:i("VU/8")({name:"TodoList",data:function(){return{editId:-1,title:"",beforeTitle:""}},watch:{list:{handler:function(){this.$store.dispatch("saveDataAct")},deep:!0}},computed:{list:function(){var t=this.$route.path;return"/"===t||"/all"===t?this.$store.state.list:"/active"===t?this.$store.state.list.filter(function(t){return!t.checked}):"/completed"===t?this.$store.state.list.filter(function(t){return t.checked}):void 0}},methods:{editTodo:function(t){var e=this;this.editId=t.id,this.title=this.$store.state.list.find(function(e){return e.id===t.id}).title,this.beforeTitle=this.title,this.$nextTick(function(){e.$refs[t.id][0].focus()})},editDone:function(t){this.title.trim()?this.$store.commit("editTodoMuta",{id:t.id,title:this.title}):this.removeTodo(t),this.editId=-1},editCancel:function(){this.title=this.beforeTitle,this.editId=-1},removeTodo:function(t){this.$store.commit("removeTodoMuta",{id:t.id})}}},c,!1,function(t){i("QYSl")},"data-v-5305658f",null).exports}},l={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"main"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.isCheckedAll,expression:"isCheckedAll"}],staticClass:"toggle-all",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.isCheckedAll)?t._i(t.isCheckedAll,null)>-1:t.isCheckedAll},on:{change:function(e){var i=t.isCheckedAll,o=e.target,n=!!o.checked;if(Array.isArray(i)){var s=t._i(i,null);o.checked?s<0&&(t.isCheckedAll=i.concat([null])):s>-1&&(t.isCheckedAll=i.slice(0,s).concat(i.slice(s+1)))}else t.isCheckedAll=n}}}),t._v(" "),i("todo-list")],1)},staticRenderFns:[]};var d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("footer",{directives:[{name:"show",rawName:"v-show",value:t.isShow,expression:"isShow"}],staticClass:"footer"},[i("span",{staticClass:"todo-count"},[i("strong",[t._v(t._s(t.unSelected))]),t._v(" "),i("span",[t._v("条未选中")])]),t._v(" "),i("ul",{staticClass:"filters"},[t._v("\n    "+t._s(t.$router.path)+"\n    "),i("li",[i("router-link",{class:{selected:"/"===t.$route.path||"/all"===t.$route.path},attrs:{to:"/all"}},[t._v("All")])],1),t._v(" "),i("li",[i("router-link",{class:{selected:"/active"===t.$route.path},attrs:{to:"/active"}},[t._v("Active")])],1),t._v(" "),i("li",[i("router-link",{class:{selected:"/completed"===t.$route.path},attrs:{to:"/completed"}},[t._v("Completed")])],1)])])},staticRenderFns:[]};var u={name:"App",components:{TodoHeader:a,TodoContent:i("VU/8")(r,l,!1,function(t){i("EEnH")},"data-v-7ce729c1",null).exports,TodoFooter:i("VU/8")({name:"TodoFooter",computed:{unSelected:function(){return this.$store.state.list.filter(function(t){return!t.checked}).length},isShow:function(){return!!this.$store.state.list.length}}},d,!1,function(t){i("vWWB")},"data-v-4239599a",null).exports}},h={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("div",{staticClass:"todoapp"},[e("todo-header"),this._v(" "),e("todo-content"),this._v(" "),e("todo-footer")],1)])},staticRenderFns:[]};var v=i("VU/8")(u,h,!1,function(t){i("mxcy")},null,null).exports,f=i("/ocq");o.a.use(f.a);var m=new f.a({routes:[{path:"/"},{path:"/all"},{path:"/active"},{path:"/completed"},{path:"*",redirect:"/all"}]}),p=i("mvHQ"),k=i.n(p),_=i("NYxO");o.a.use(_.a);var C=new _.a.Store({state:{list:[]},mutations:{addTodoMuta:function(t,e){t.list.push(e)},editTodoMuta:function(t,e){t.list.find(function(t){return t.id==e.id}).title=e.title},removeTodoMuta:function(t,e){var i=t.list.findIndex(function(t){return t.id===e.id});t.list.splice(i,1)},setCheckedAll:function(t,e){t.list.forEach(function(t){return t.checked=e.checked})},getDataMuta:function(t,e){var i=JSON.parse(window.localStorage.getItem("todoList"))||[];t.list=i},saveDataMuta:function(t,e){window.localStorage.setItem("todoList",k()(t.list))}},actions:{getDataAct:function(t,e){t.commit("getDataMuta")},saveDataAct:function(t,e){t.commit("saveDataMuta")}}});o.a.config.productionTip=!1,new o.a({el:"#app",router:m,store:C,components:{App:v},template:"<App/>",created:function(){this.$store.dispatch("getDataAct")}})},QYSl:function(t,e){},mo6r:function(t,e){},mxcy:function(t,e){},vWWB:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.b7c11fcc00a8473fd77d.js.map